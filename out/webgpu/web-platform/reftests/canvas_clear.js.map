{"version":3,"sources":["../../../../src/webgpu/web-platform/reftests/canvas_clear.ts"],"names":["runRefTest","t","canvas","document","getElementById","ctx","getContext","swapChain","configureSwapChain","device","format","colorAttachment","getCurrentTexture","colorAttachmentView","createView","encoder","createCommandEncoder","pass","beginRenderPass","colorAttachments","attachment","loadValue","r","g","b","a","storeOp","endPass","defaultQueue","submit","finish"],"mappings":";;GAAA,SAASA,UAAT,QAA2B,mBAA3B,CAEAA,UAAU,CAAC,MAAMC,CAAN,IAAW;AACpB,QAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAf;;AAEA,QAAMC,GAAG,GAAIH,MAAM,CAACI,UAAP,CAAkB,YAAlB,CAAb;AACA,QAAMC,SAAS,GAAGF,GAAG,CAACG,kBAAJ,CAAuB;AACvCC,IAAAA,MAAM,EAAER,CAAC,CAACQ,MAD6B;AAEvCC,IAAAA,MAAM,EAAE,YAF+B,EAAvB,CAAlB;;;AAKA,QAAMC,eAAe,GAAGJ,SAAS,CAACK,iBAAV,EAAxB;AACA,QAAMC,mBAAmB,GAAGF,eAAe,CAACG,UAAhB,EAA5B;;AAEA,QAAMC,OAAO,GAAGd,CAAC,CAACQ,MAAF,CAASO,oBAAT,EAAhB;AACA,QAAMC,IAAI,GAAGF,OAAO,CAACG,eAAR,CAAwB;AACnCC,IAAAA,gBAAgB,EAAE;AAChB;AACEC,MAAAA,UAAU,EAAEP,mBADd;AAEEQ,MAAAA,SAAS,EAAE,EAAEC,CAAC,EAAE,GAAL,EAAUC,CAAC,EAAE,GAAb,EAAkBC,CAAC,EAAE,GAArB,EAA0BC,CAAC,EAAE,GAA7B,EAFb;AAGEC,MAAAA,OAAO,EAAE,OAHX,EADgB,CADiB,EAAxB,CAAb;;;;AASAT,EAAAA,IAAI,CAACU,OAAL;AACA1B,EAAAA,CAAC,CAACQ,MAAF,CAASmB,YAAT,CAAsBC,MAAtB,CAA6B,CAACd,OAAO,CAACe,MAAR,EAAD,CAA7B;AACD,CAxBS,CAAV","sourcesContent":["import { runRefTest } from './gpu_ref_test.js';\n\nrunRefTest(async t => {\n  const canvas = document.getElementById('gpucanvas') as HTMLCanvasElement;\n\n  const ctx = (canvas.getContext('gpupresent') as unknown) as GPUCanvasContext;\n  const swapChain = ctx.configureSwapChain({\n    device: t.device,\n    format: 'bgra8unorm',\n  });\n\n  const colorAttachment = swapChain.getCurrentTexture();\n  const colorAttachmentView = colorAttachment.createView();\n\n  const encoder = t.device.createCommandEncoder();\n  const pass = encoder.beginRenderPass({\n    colorAttachments: [\n      {\n        attachment: colorAttachmentView,\n        loadValue: { r: 0.0, g: 1.0, b: 0.0, a: 1.0 },\n        storeOp: 'store',\n      },\n    ],\n  });\n  pass.endPass();\n  t.device.defaultQueue.submit([encoder.finish()]);\n});\n"],"file":"canvas_clear.js"}