{"version":3,"sources":["../../../../src/webgpu/api/validation/setStencilReference.spec.ts"],"names":["description","poptions","makeTestGroup","ValidationTest","F","beginRenderPass","commandEncoder","attachmentTexture","device","createTexture","format","size","width","height","depth","usage","GPUTextureUsage","OUTPUT_ATTACHMENT","colorAttachments","attachment","createView","loadValue","r","g","b","a","test","params","fn","t","reference","createCommandEncoder","renderPass","setStencilReference","endPass","finish"],"mappings":";;GAAA,OAAO,MAAMA,WAAW,GAAI;;CAArB,CAIP,SAASC,QAAT,QAAyB,6CAAzB;AACA,SAASC,aAAT,QAA8B,yCAA9B;;AAEA,SAASC,cAAT,QAA+B,sBAA/B;;AAEA;AACA,MAAMC,CAAN,SAAgBD,cAAhB,CAA+B;AAC7BE,EAAAA,eAAe,CAACC,cAAD,EAA0D;AACvE,UAAMC,iBAAiB,GAAG,KAAKC,MAAL,CAAYC,aAAZ,CAA0B;AAClDC,MAAAA,MAAM,EAAE,YAD0C;AAElDC,MAAAA,IAAI,EAAE,EAAEC,KAAK,EAAE,EAAT,EAAaC,MAAM,EAAE,EAArB,EAAyBC,KAAK,EAAE,CAAhC,EAF4C;AAGlDC,MAAAA,KAAK,EAAEC,eAAe,CAACC,iBAH2B,EAA1B,CAA1B;;;AAMA,WAAOX,cAAc,CAACD,eAAf,CAA+B;AACpCa,MAAAA,gBAAgB,EAAE;AAChB;AACEC,QAAAA,UAAU,EAAEZ,iBAAiB,CAACa,UAAlB,EADd;AAEEC,QAAAA,SAAS,EAAE,EAAEC,CAAC,EAAE,GAAL,EAAUC,CAAC,EAAE,GAAb,EAAkBC,CAAC,EAAE,GAArB,EAA0BC,CAAC,EAAE,GAA7B,EAFb,EADgB,CADkB,EAA/B,CAAP;;;;AAQD,GAhB4B;;;AAmB/B,OAAO,MAAMF,CAAC,GAAGrB,aAAa,CAACE,CAAD,CAAvB;;AAEPmB,CAAC,CAACG,IAAF,CAAO,4BAAP;AACGC,MADH,CACU1B,QAAQ,CAAC,WAAD,EAAc,CAAC,CAAD,EAAI,UAAJ,CAAd,CADlB;AAEG2B,EAFH,CAEMC,CAAC,IAAI;AACP,QAAM,EAAEC,SAAF,KAAgBD,CAAC,CAACF,MAAxB;;AAEA,QAAMrB,cAAc,GAAGuB,CAAC,CAACrB,MAAF,CAASuB,oBAAT,EAAvB;AACA,QAAMC,UAAU,GAAGH,CAAC,CAACxB,eAAF,CAAkBC,cAAlB,CAAnB;AACA0B,EAAAA,UAAU,CAACC,mBAAX,CAA+BH,SAA/B;AACAE,EAAAA,UAAU,CAACE,OAAX;AACA5B,EAAAA,cAAc,CAAC6B,MAAf;AACD,CAVH","sourcesContent":["export const description = `\nsetStencilReference validation tests.\n`;\n\nimport { poptions } from '../../../common/framework/params_builder.js';\nimport { makeTestGroup } from '../../../common/framework/test_group.js';\n\nimport { ValidationTest } from './validation_test.js';\n\n// TODO: Move this fixture class to a common file.\nclass F extends ValidationTest {\n  beginRenderPass(commandEncoder: GPUCommandEncoder): GPURenderPassEncoder {\n    const attachmentTexture = this.device.createTexture({\n      format: 'rgba8unorm',\n      size: { width: 16, height: 16, depth: 1 },\n      usage: GPUTextureUsage.OUTPUT_ATTACHMENT,\n    });\n\n    return commandEncoder.beginRenderPass({\n      colorAttachments: [\n        {\n          attachment: attachmentTexture.createView(),\n          loadValue: { r: 1.0, g: 0.0, b: 0.0, a: 1.0 },\n        },\n      ],\n    });\n  }\n}\n\nexport const g = makeTestGroup(F);\n\ng.test('use_of_setStencilReference')\n  .params(poptions('reference', [0, 0xffffffff]))\n  .fn(t => {\n    const { reference } = t.params;\n\n    const commandEncoder = t.device.createCommandEncoder();\n    const renderPass = t.beginRenderPass(commandEncoder);\n    renderPass.setStencilReference(reference);\n    renderPass.endPass();\n    commandEncoder.finish();\n  });\n"],"file":"setStencilReference.spec.js"}