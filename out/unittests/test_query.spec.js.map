{"version":3,"sources":["../../src/unittests/test_query.spec.ts"],"names":["description","TestQueryMultiFile","TestQueryMultiTest","TestQueryMultiCase","TestQuerySingleCase","makeTestGroup","UnitTest","F","expectToString","q","exp","expect","toString","g","test","fn","t","shouldThrow","x","y"],"mappings":"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","sourcesContent":["export const description = `\nTests for TestQuery\n`;\nimport {\n  TestQueryMultiFile,\n  TestQueryMultiTest,\n  TestQueryMultiCase,\n  TestQuerySingleCase,\n  TestQuery,\n} from '../common/framework/query/query.js';\nimport { makeTestGroup } from '../common/framework/test_group.js';\n\nimport { UnitTest } from './unit_test.js';\n\nclass F extends UnitTest {\n  expectToString(q: TestQuery, exp: string) {\n    this.expect(q.toString() === exp);\n  }\n}\n\nexport const g = makeTestGroup(F);\n\ng.test('constructor').fn(t => {\n  t.shouldThrow('Error', () => new TestQueryMultiTest('suite', [], []));\n\n  t.shouldThrow('Error', () => new TestQueryMultiCase('suite', ['a'], [], {}));\n  t.shouldThrow('Error', () => new TestQueryMultiCase('suite', [], ['c'], {}));\n  t.shouldThrow('Error', () => new TestQueryMultiCase('suite', [], [], {}));\n\n  t.shouldThrow('Error', () => new TestQuerySingleCase('suite', ['a'], [], {}));\n  t.shouldThrow('Error', () => new TestQuerySingleCase('suite', [], ['c'], {}));\n  t.shouldThrow('Error', () => new TestQuerySingleCase('suite', [], [], {}));\n});\n\ng.test('toString').fn(t => {\n  t.expectToString(new TestQueryMultiFile('s', []), 's:*');\n  t.expectToString(new TestQueryMultiFile('s', ['a']), 's:a,*');\n  t.expectToString(new TestQueryMultiFile('s', ['a', 'b']), 's:a,b,*');\n  t.expectToString(new TestQueryMultiTest('s', ['a', 'b'], []), 's:a,b:*');\n  t.expectToString(new TestQueryMultiTest('s', ['a', 'b'], ['c']), 's:a,b:c,*');\n  t.expectToString(new TestQueryMultiTest('s', ['a', 'b'], ['c', 'd']), 's:a,b:c,d,*');\n  t.expectToString(new TestQueryMultiCase('s', ['a', 'b'], ['c', 'd'], {}), 's:a,b:c,d:*');\n  t.expectToString(\n    new TestQueryMultiCase('s', ['a', 'b'], ['c', 'd'], { x: 1 }),\n    's:a,b:c,d:x=1;*'\n  );\n  t.expectToString(\n    new TestQueryMultiCase('s', ['a', 'b'], ['c', 'd'], { x: 1, y: 2 }),\n    's:a,b:c,d:x=1;y=2;*'\n  );\n  t.expectToString(\n    new TestQuerySingleCase('s', ['a', 'b'], ['c', 'd'], { x: 1, y: 2 }),\n    's:a,b:c,d:x=1;y=2'\n  );\n  t.expectToString(new TestQuerySingleCase('s', ['a', 'b'], ['c', 'd'], {}), 's:a,b:c,d:');\n});\n"],"file":"test_query.spec.js"}